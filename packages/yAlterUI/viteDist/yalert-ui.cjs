"use strict";var E=Object.defineProperty;var j=(e,n,a)=>n in e?E(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var _=(e,n,a)=>(j(e,typeof n!="symbol"?n+"":n,a),a);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),I=t.defineComponent({name:"YFooter",setup(e,{slots:n}){return()=>{var a;return t.createVNode("div",null,[(a=n.default)==null?void 0:a.call(n)])}}}),Y={install(e){e.component("y-footer",I)}};const A="y",H="is-",y=(e,n,a,r,s)=>{let o=`${e}-${n}`;return a&&(o+=`-${a}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},C=e=>{const n=t.ref(A);return{namespace:n,b:(i="")=>y(n.value,e,i,"",""),e:i=>i?y(n.value,e,"",i,""):"",m:i=>i?y(n.value,e,"","",i):"",be:(i,c)=>i&&c?y(n.value,e,i,c,""):"",em:(i,c)=>i&&c?y(n.value,e,"",i,c):"",bm:(i,c)=>i&&c?y(n.value,e,i,"",c):"",bem:(i,c,d)=>i&&c&&d?y(n.value,e,i,c,d):"",is:(i,...c)=>{const d=c.length>=1?c[0]:!0;return i&&d?`${H}${i}`:""},cssVar:i=>{const c={};for(const d in i)i[d]&&(c[`--${n.value}-${d}`]=i[d]);return c},cssVarName:i=>`--${n.value}-${i}`,cssVarBlock:i=>{const c={};for(const d in i)i[d]&&(c[`--${n.value}-${e}-${d}`]=i[d]);return c},cssVarBlockName:i=>`--${n.value}-${e}-${i}`}},D=e=>{const n=t.getCurrentInstance();return t.computed(()=>{var a,r;return(r=((a=n.proxy)==null?void 0:a.$props)[e])!=null?r:void 0})},R=e=>{const n=D("disabled");return t.computed(()=>n.value||t.unref(e))};var O;const U=typeof window<"u",W=e=>typeof e=="function",q=e=>typeof e=="number",G=e=>typeof e=="string";U&&((O=window==null?void 0:window.navigator)==null?void 0:O.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function J(e,n="px"){if(!e)return"";if(G(e))return e;if(q(e))return`${e}${n}`}const K=e=>e===void 0;const Q={color:{type:String,default:""},size:{type:String},loading:{type:Boolean,default:!1},icon:{type:Object,default:null}},b=t.defineComponent({name:"YIcon",props:Q,setup(e,{attrs:n,slots:a}){const r=C("icon"),s=t.computed(()=>{const{size:o,color:l,loading:h}=e;return!o&&!l?{}:{fontSize:K(o)?void 0:J(o),"--color":l}});return()=>a.default?t.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},[a.default&&a.default()]):e.icon?t.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},[t.createVNode("g",null,[t.h(e.icon)])]):t.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},null)}}),X={install(e){e.component("y-icon",b)}};var w=(e,n)=>{const a=e.__vccOpts||e;for(const[r,s]of n)a[r]=s;return a};const Z={name:"CircleCheck"},ee={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ne=t.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),te=t.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),oe=[ne,te];function se(e,n,a,r,s,o){return t.openBlock(),t.createElementBlock("svg",ee,oe)}var ae=w(Z,[["render",se]]);const ie={name:"CircleClose"},re={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ce=t.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),le=t.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),ue=[ce,le];function de(e,n,a,r,s,o){return t.openBlock(),t.createElementBlock("svg",re,ue)}var me=w(ie,[["render",de]]);const fe={name:"Loading"},_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},he=t.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),ge=[he];function ye(e,n,a,r,s,o){return t.openBlock(),t.createElementBlock("svg",_e,ge)}var F=w(fe,[["render",ye]]);const ve={name:"Warning"},$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pe=t.createElementVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),be=[pe];function we(e,n,a,r,s,o){return t.openBlock(),t.createElementBlock("svg",$e,be)}var Ce=w(ve,[["render",we]]);const ke={size:String,disabled:Boolean,type:{type:String,default:""},text:Boolean,link:Boolean,loading:Boolean,shape:{type:String,default:""},icon:{type:Object,default:null},dashed:{type:Boolean,default:!1},borderd:{type:Boolean,default:!0},loadingIcon:{type:Object,default:()=>F}},L=t.defineComponent({name:"YButton",props:ke,setup(e,{slots:n}){const a=R(),r=t.computed(()=>e.size),s=t.computed(()=>e.type),o=t.computed(()=>e.shape),l=C("btn"),h=g=>{};function m(){return t.createVNode("div",null,[n.loading?n.loading():t.createVNode(b,{icon:e.loadingIcon,class:l.is("loading")},null)])}function f(){return e.loading?m():e.icon||n.icon?n.icon?n.icon():t.createVNode(b,{icon:e.icon},null):null}return()=>t.createVNode("button",{class:[l.b(),l.m(r.value),l.is("disabled",a.value),l.m(s.value),l.is("text",e.text),l.is("link",e.link),l.is("circle",o.value==="circle"),l.is("round",o.value==="round"),l.m(e.dashed?"dashed":"")],disabled:a.value||void 0,onClick:h},[f(),n.default?n.default():null])}}),xe={install(e){e.component("y-button",L)}};function Ne(e,n){return a=>Object.keys(e).reduce((r,s)=>{const l=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return a&&s in a?r[s]={...l,default:a[s]}:r[s]=l,n&&(r[s].source=n),r},{})}const Ve=[String,Object,Array],ze=[String,Object,Array],Be=Ne({bodyWidth:{type:Number,default:100},icon:{type:[Object,Function],default:null},iconProps:{type:Object,default:()=>({size:"40px",color:"white",loading:!1})},position:{type:String,default:"center"},transitonName:{type:String,default:""},closable:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!1},showMask:{type:Boolean,default:!1},maskClass:{type:Ve,default:null},maskStyle:{type:ze,default:null},parseHtml:{type:Boolean,default:!1},renderFunc:{type:Function,default:null}});const Te=t.defineComponent({name:"Renderer",props:{renderer:{type:Function,default:null},data:{type:Object,default:void 0}},setup(e){return()=>typeof e.renderer!="function"?null:e.renderer(e.data)}});function S(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!t.isVNode(e)}const Pe=t.defineComponent({name:"YToast",props:Be(),expose:["openToast"],setup(e,{attrs:n,slots:a,emit:r}){const s=C("toast"),o=t.reactive({visible:!1,zIndex:0,content:"",icon:e.icon,iconProps:e.iconProps,position:e.position,transition:e.transitonName,closable:e.closable,maskClose:e.maskClose,showMask:e.showMask,maskClass:e.maskClass,maskStyle:e.maskStyle,parseHtml:e.parseHtml,textOnly:!1,renderer:e.renderFunc,onClose:null}),l=new Promise(u=>{t.onMounted(()=>{t.nextTick(u)})});t.onUnmounted(()=>{console.log("\u7EC4\u4EF6\u9500\u6BC1---"),r("destory")});async function h(u){var i,c,d,x,N,V,z,B,T,P,M;o.zIndex=1001,await l,o.content=(i=u.content)!=null?i:"",o.icon=(c=u.icon)!=null?c:e.icon,o.iconProps=(d=u.iconProps)!=null?d:e.iconProps,o.position=(x=u.position)!=null?x:e.position,o.transition=(N=u.transitionName)!=null?N:e.transitonName,o.closable=(V=u.closable)!=null?V:e.closable,o.maskClose=(z=u.maskClose)!=null?z:e.maskClose,o.showMask=(B=u.showMask)!=null?B:e.showMask,o.maskClass=(T=u.maskClass)!=null?T:e.maskClass,o.maskStyle=(P=u.maskStyle)!=null?P:e.maskStyle,o.parseHtml=(M=u.parseHtml)!=null?M:e.parseHtml,o.renderer=u.renderer?u.renderer:e.renderFunc,o.onClose=u.onClose||null,o.textOnly=!o.icon,o.visible=!0}function m(){o.visible=!1}const f=()=>{if(o.showMask&&o.visible)return t.createVNode("div",{class:"{ns.be('mask'), state.maskClass}",style:o.maskStyle,onClick:()=>{}},null)},g=()=>{if(o.visible)return t.createVNode("div",{class:[s.e("wrapper")]},[p(),t.createVNode("div",{class:s.be("content")},[o.content])])},p=()=>{if(o.icon)return t.createVNode("div",{class:s.be("icon")},[t.createVNode(b,{icon:o.icon,size:o.iconProps.size,color:o.iconProps.color,loading:o.iconProps.loading},null)])};function k(){if(W(o.renderer))return console.log(),t.createVNode(Te,{renderer:o.renderer},null);{let u,i;return t.createVNode("div",{class:[s.b(),s.bm(this.state.textOnly?"text-only":"")],style:{zIndex:o.zIndex}},[t.createVNode(t.Transition,{name:s.bem("fade")},S(u=f())?u:{default:()=>[u]}),t.createVNode(t.Transition,{name:o.transition},S(i=g())?i:{default:()=>[i]})])}}return Object.assign({openToast:h,renderToast:k,renderTransMask:f,renderToastContent:g,state:o,cloasToast:m,ns:s})},render(){return this.renderToast()}}),Me=(e,n)=>(e.install=a=>{e._context=a._context,a.config.globalProperties[n]=e},e),Oe={success:{icon:ae},warning:{icon:Ce},error:{icon:me},loading:{icon:F,showMask:!0,iconProps:{pulse:!0,loading:!0,size:"22px"}}};class Se{constructor(n={},a){_(this,"name");_(this,"defaults");_(this,"open");_(this,"success");_(this,"warning");_(this,"error");_(this,"loading");_(this,"_context");_(this,"_mountedApp");_(this,"_instance");_(this,"_container");_(this,"_timer");n={...n,duration:n.duration?Number(n.duration):2e3},this.name="Toast",this._mountedApp=null,this._instance=null,this._container=null,this._timer=null,this._context=a||null,this.open=(r,s)=>this._open(null,r,s),this.success=(r,s)=>this._open("success",r,s),this.warning=(r,s)=>this._open("warning",r,s),this.error=(r,s)=>this._open("error",r,s),this.loading=(r,s)=>this._open("loading",r,s)}_getInstance(){const n=t.createVNode(Pe);return this._container=document.createElement("div"),n.appContext=this._context,t.render(n,this._container),document.body.appendChild(this._container.firstElementChild),this._instance=n.component.proxy,this._instance}_open(n,a,r){var p;this._timer&&clearTimeout(this._timer);const s=typeof a=="string"?{content:a,duration:r}:a,o=n?(p=Oe[n])!=null?p:{}:{},l=s.onClose,h=()=>{if(this._timer&&clearTimeout(this._timer),typeof l=="function")return l()},m=this._getInstance(),f={...this.defaults,...o,...s,onClose:h};f.icon&&typeof f.icon!="function"&&(f.icon=t.markRaw(f.icon)),m==null||m.openToast(f);const g=typeof f.duration=="number"?f.duration:2e3;return g>=500&&(this._timer=setTimeout(()=>{m==null||m.cloasToast(),this.destroyed()},g)),()=>{this._timer&&clearTimeout(this._timer),m==null||m.cloasToast()}}config(n,a){this.defaults={...this.defaults,...n},this._context=a||null}close(){var n;this._timer&&clearTimeout(this._timer),(n=this._getInstance())==null||n.cloasToast(),this.destroyed()}destroyed(){this._container&&t.render(null,this._container)}}const v=new Se,$=(e={},n)=>(v.config(e),{...v});$.loading=v.loading;$.success=v.success;$.warning=v.warning;$.error=v.error;$.open=v.open;const Ie=Me($,"$toast");exports.FooterPlugin=Y;exports.YButton=L;exports.YFooter=I;exports.YIcon=b;exports.buttonPlugin=xe;exports.iconPlugin=X;exports.useToast=Ie;
