(function(u,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(u=typeof globalThis<"u"?globalThis:u||self,n(u.YalertUi={},u.Vue))})(this,function(u,n){"use strict";var ze=Object.defineProperty;var Te=(u,n,g)=>n in u?ze(u,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):u[n]=g;var h=(u,n,g)=>(Te(u,typeof n!="symbol"?n+"":n,g),g);const g=n.defineComponent({name:"YFooter",setup(e,{slots:t}){return()=>{var i;return n.createVNode("div",null,[(i=t.default)==null?void 0:i.call(t)])}}}),j={install(e){e.component("y-footer",g)}},Be="",Y="y",A="is-",y=(e,t,i,r,s)=>{let o=`${e}-${t}`;return i&&(o+=`-${i}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},V=e=>{const t=n.ref(Y);return{namespace:t,b:(a="")=>y(t.value,e,a,"",""),e:a=>a?y(t.value,e,"",a,""):"",m:a=>a?y(t.value,e,"","",a):"",be:(a,c)=>a&&c?y(t.value,e,a,c,""):"",em:(a,c)=>a&&c?y(t.value,e,"",a,c):"",bm:(a,c)=>a&&c?y(t.value,e,a,"",c):"",bem:(a,c,m)=>a&&c&&m?y(t.value,e,a,c,m):"",is:(a,...c)=>{const m=c.length>=1?c[0]:!0;return a&&m?`${A}${a}`:""},cssVar:a=>{const c={};for(const m in a)a[m]&&(c[`--${t.value}-${m}`]=a[m]);return c},cssVarName:a=>`--${t.value}-${a}`,cssVarBlock:a=>{const c={};for(const m in a)a[m]&&(c[`--${t.value}-${e}-${m}`]=a[m]);return c},cssVarBlockName:a=>`--${t.value}-${e}-${a}`}},H=e=>{const t=n.getCurrentInstance();return n.computed(()=>{var i,r;return(r=((i=t.proxy)==null?void 0:i.$props)[e])!=null?r:void 0})},U=e=>{const t=H("disabled");return n.computed(()=>t.value||n.unref(e))};var x;const D=typeof window<"u",R=e=>typeof e=="function",W=e=>typeof e=="number",q=e=>typeof e=="string";D&&((x=window==null?void 0:window.navigator)==null?void 0:x.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function G(e,t="px"){if(!e)return"";if(q(e))return e;if(W(e))return`${e}${t}`}const J=e=>e===void 0,Pe="",K={color:{type:String,default:""},size:{type:String},loading:{type:Boolean,default:!1},icon:{type:Object,default:null}},C=n.defineComponent({name:"YIcon",props:K,setup(e,{attrs:t,slots:i}){const r=V("icon"),s=n.computed(()=>{const{size:o,color:l,loading:p}=e;return!o&&!l?{}:{fontSize:J(o)?void 0:G(o),"--color":l}});return()=>i.default?n.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},[i.default&&i.default()]):e.icon?n.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},[n.createVNode("g",null,[n.h(e.icon)])]):n.createVNode("i",{class:[r.b(),r.is("loading",e.loading)],style:s.value},null)}}),Q={install(e){e.component("y-icon",C)}};var N=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i};const X={name:"CircleCheck"},Z={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ee=[n.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),n.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1)];function ne(e,t,i,r,s,o){return n.openBlock(),n.createElementBlock("svg",Z,ee)}var te=N(X,[["render",ne]]);const oe={name:"CircleClose"},se={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ae=[n.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),n.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1)];function ie(e,t,i,r,s,o){return n.openBlock(),n.createElementBlock("svg",se,ae)}var re=N(oe,[["render",ie]]);const ce={name:"Loading"},le={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},de=[n.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1)];function ue(e,t,i,r,s,o){return n.openBlock(),n.createElementBlock("svg",le,de)}var z=N(ce,[["render",ue]]);const me={name:"Warning"},fe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_e=[n.createElementVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1)];function he(e,t,i,r,s,o){return n.openBlock(),n.createElementBlock("svg",fe,_e)}var ge=N(me,[["render",he]]);const ye={size:String,disabled:Boolean,type:{type:String,default:""},text:Boolean,link:Boolean,loading:Boolean,shape:{type:String,default:""},icon:{type:Object,default:null},dashed:{type:Boolean,default:!1},borderd:{type:Boolean,default:!0},loadingIcon:{type:Object,default:()=>z}},T=n.defineComponent({name:"YButton",props:ye,setup(e,{slots:t}){const i=U(),r=n.computed(()=>e.size),s=n.computed(()=>e.type),o=n.computed(()=>e.shape),l=V("btn"),p=b=>{};function f(){return n.createVNode("div",null,[t.loading?t.loading():n.createVNode(C,{icon:e.loadingIcon,class:l.is("loading")},null)])}function _(){return e.loading?f():e.icon||t.icon?t.icon?t.icon():n.createVNode(C,{icon:e.icon},null):null}return()=>n.createVNode("button",{class:[l.b(),l.m(r.value),l.is("disabled",i.value),l.m(s.value),l.is("text",e.text),l.is("link",e.link),l.is("circle",o.value==="circle"),l.is("round",o.value==="round"),l.m(e.dashed?"dashed":"")],disabled:i.value||void 0,onClick:p},[_(),t.default?t.default():null])}}),$e={install(e){e.component("y-button",T)}};function pe(e,t){return i=>Object.keys(e).reduce((r,s)=>{const l=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return i&&s in i?r[s]={...l,default:i[s]}:r[s]=l,t&&(r[s].source=t),r},{})}const be=pe({bodyWidth:{type:Number,default:100},icon:{type:[Object,Function],default:null},iconProps:{type:Object,default:()=>({size:"40px",color:"white",loading:!1})},position:{type:String,default:"center"},transitonName:{type:String,default:""},closable:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!1},showMask:{type:Boolean,default:!1},maskClass:{type:[String,Object,Array],default:null},maskStyle:{type:[String,Object,Array],default:null},parseHtml:{type:Boolean,default:!1},renderFunc:{type:Function,default:null}}),je="",we=n.defineComponent({name:"Renderer",props:{renderer:{type:Function,default:null},data:{type:Object,default:void 0}},setup(e){return()=>typeof e.renderer!="function"?null:e.renderer(e.data)}});function B(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!n.isVNode(e)}const Ce=n.defineComponent({name:"YToast",props:be(),expose:["openToast"],setup(e,{attrs:t,slots:i,emit:r}){const s=V("toast"),o=n.reactive({visible:!1,zIndex:0,content:"",icon:e.icon,iconProps:e.iconProps,position:e.position,transition:e.transitonName,closable:e.closable,maskClose:e.maskClose,showMask:e.showMask,maskClass:e.maskClass,maskStyle:e.maskStyle,parseHtml:e.parseHtml,textOnly:!1,renderer:e.renderFunc,onClose:null}),l=new Promise(d=>{n.onMounted(()=>{n.nextTick(d)})});n.onUnmounted(()=>{console.log("\u7EC4\u4EF6\u9500\u6BC1---"),r("destory")});async function p(d){var a,c,m,M,O,S,I,F,L,v,E;o.zIndex=1001,await l,o.content=(a=d.content)!=null?a:"",o.icon=(c=d.icon)!=null?c:e.icon,o.iconProps=(m=d.iconProps)!=null?m:e.iconProps,o.position=(M=d.position)!=null?M:e.position,o.transition=(O=d.transitionName)!=null?O:e.transitonName,o.closable=(S=d.closable)!=null?S:e.closable,o.maskClose=(I=d.maskClose)!=null?I:e.maskClose,o.showMask=(F=d.showMask)!=null?F:e.showMask,o.maskClass=(L=d.maskClass)!=null?L:e.maskClass,o.maskStyle=(v=d.maskStyle)!=null?v:e.maskStyle,o.parseHtml=(E=d.parseHtml)!=null?E:e.parseHtml,o.renderer=d.renderer?d.renderer:e.renderFunc,o.onClose=d.onClose||null,o.textOnly=!o.icon,o.visible=!0}function f(){o.visible=!1}const _=()=>{if(o.showMask&&o.visible)return n.createVNode("div",{class:"{ns.be('mask'), state.maskClass}",style:o.maskStyle,onClick:()=>{}},null)},b=()=>{if(o.visible)return n.createVNode("div",{class:[s.e("wrapper")]},[k(),n.createVNode("div",{class:s.be("content")},[o.content])])},k=()=>{if(o.icon)return n.createVNode("div",{class:s.be("icon")},[n.createVNode(C,{icon:o.icon,size:o.iconProps.size,color:o.iconProps.color,loading:o.iconProps.loading},null)])};function P(){if(R(o.renderer))return console.log(),n.createVNode(we,{renderer:o.renderer},null);{let d,a;return n.createVNode("div",{class:[s.b(),s.bm(this.state.textOnly?"text-only":"")],style:{zIndex:o.zIndex}},[n.createVNode(n.Transition,{name:s.bem("fade")},B(d=_())?d:{default:()=>[d]}),n.createVNode(n.Transition,{name:o.transition},B(a=b())?a:{default:()=>[a]})])}}return Object.assign({openToast:p,renderToast:P,renderTransMask:_,renderToastContent:b,state:o,cloasToast:f,ns:s})},render(){return this.renderToast()}}),ke=(e,t)=>(e.install=i=>{e._context=i._context,i.config.globalProperties[t]=e},e),Ne={success:{icon:te},warning:{icon:ge},error:{icon:re},loading:{icon:z,showMask:!0,iconProps:{pulse:!0,loading:!0,size:"22px"}}};class Ve{constructor(t={},i){h(this,"name");h(this,"defaults");h(this,"open");h(this,"success");h(this,"warning");h(this,"error");h(this,"loading");h(this,"_context");h(this,"_mountedApp");h(this,"_instance");h(this,"_container");h(this,"_timer");t={...t,duration:t.duration?Number(t.duration):2e3},this.name="Toast",this._mountedApp=null,this._instance=null,this._container=null,this._timer=null,this._context=i||null,this.open=(r,s)=>this._open(null,r,s),this.success=(r,s)=>this._open("success",r,s),this.warning=(r,s)=>this._open("warning",r,s),this.error=(r,s)=>this._open("error",r,s),this.loading=(r,s)=>this._open("loading",r,s)}_getInstance(){const t=n.createVNode(Ce);return this._container=document.createElement("div"),t.appContext=this._context,n.render(t,this._container),document.body.appendChild(this._container.firstElementChild),this._instance=t.component.proxy,this._instance}_open(t,i,r){var k;this._timer&&clearTimeout(this._timer);const s=typeof i=="string"?{content:i,duration:r}:i,o=t?(k=Ne[t])!=null?k:{}:{},l=s.onClose,p=()=>{if(this._timer&&clearTimeout(this._timer),typeof l=="function")return l()},f=this._getInstance(),_={...this.defaults,...o,...s,onClose:p};_.icon&&typeof _.icon!="function"&&(_.icon=n.markRaw(_.icon)),f==null||f.openToast(_);const b=typeof _.duration=="number"?_.duration:2e3;return b>=500&&(this._timer=setTimeout(()=>{f==null||f.cloasToast(),this.destroyed()},b)),()=>{this._timer&&clearTimeout(this._timer),f==null||f.cloasToast()}}config(t,i){this.defaults={...this.defaults,...t},this._context=i||null}close(){var t;this._timer&&clearTimeout(this._timer),(t=this._getInstance())==null||t.cloasToast(),this.destroyed()}destroyed(){this._container&&n.render(null,this._container)}}const $=new Ve,w=(e={},t)=>($.config(e),{...$});w.loading=$.loading,w.success=$.success,w.warning=$.warning,w.error=$.error,w.open=$.open;const xe=ke(w,"$toast");u.FooterPlugin=j,u.YButton=T,u.YFooter=g,u.YIcon=C,u.buttonPlugin=$e,u.iconPlugin=Q,u.useToast=xe,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
